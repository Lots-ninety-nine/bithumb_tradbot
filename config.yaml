# Bybit Tradbot 설정 파일
# - API 키/시크릿은 .env에 넣고, 이 파일에는 전략/운영 파라미터만 넣으세요.
# - 퍼센트는 0~1 소수로 입력합니다. 예) 5% = 0.05

app:
  dry_run: false
  interval_sec: 45
  max_consecutive_errors: 5
  log_level: INFO
  log_api_usage: true
  log_performance: true
  performance_log_interval_sec: 300
  performance_baseline_path: data/performance_baseline.json

exchange:
  sample_ticker: BTCUSDT
  public_retry_count: 2
  public_retry_delay_sec: 0.2
  timeout_sec: 8.0

bybit:
  enabled: true
  base_url: https://api.bybit.com
  category: linear
  quote_coin: USDT
  account_type: UNIFIED
  recv_window: 5000
  position_idx: 0
  leverage: 3.0
  allow_long: true
  allow_short: true
  short_min_advanced_score: 0.8

collector:
  top_n: 15
  max_watchlist: 20
  candle_count: 200
  intervals:
    - minute1
    - minute5
    - minute15
  extra_watchlist:
    - BTCUSDT
    - ETHUSDT
    - SOLUSDT
    - XRPUSDT
    - ADAUSDT
    - DOGEUSDT
    - AVAXUSDT
    - LINKUSDT
    - TRXUSDT
    - SUIUSDT
    - DOTUSDT
    - XLMUSDT
    - ATOMUSDT
    - BCHUSDT
    - NEARUSDT

strategy:
  interval_priority:
    - minute15
    - minute5
    - minute1
  min_data_rows: 35
  required_signal_count: 1
  rsi_buy_threshold: 30.0
  rsi_sell_threshold: 70.0
  bollinger_touch_tolerance_pct: 0.0
  use_macd_golden_cross: true
  use_macd_dead_cross: true

llm:
  model_name: gemini-2.5-flash
  min_buy_confidence: 0.55
  min_sell_confidence: 0.55
  max_dead_cat_risk: 0.7
  allow_hold_buy: true
  hold_buy_min_confidence: 0.6
  hold_buy_max_dead_cat_risk: 0.9
  hold_buy_min_advanced_score: 0.9

trade:
  seed_capital: 52.0
  slot_count: 2
  min_order_notional: 5.0
  max_spread_bps: 35.0
  use_available_balance_as_seed: true
  order_retry_count: 2
  order_retry_delay_sec: 0.8
  order_fill_wait_sec: 2.5
  order_fill_poll_sec: 0.5
  cancel_unfilled_before_retry: true

risk:
  stop_loss_pct: 0.025
  trailing_start_pct: 0.008
  trailing_gap_pct: 0.012

advanced:
  enabled: true
  min_total_score: 0.8
  support_resistance_weight: 0.6
  pattern_weight: 0.5
  orderbook_weight: 0.7
  support_proximity_pct: 0.01
  resistance_proximity_pct: 0.008
  imbalance_buy_threshold: 0.12

news:
  enabled: true
  refresh_interval_sec: 300
  per_source_limit: 30
  use_exchange_notice: true
  use_coindesk_rss: true
  use_naver_openapi: false
  coindesk_rss_url: https://www.coindesk.com/arc/outboundfeeds/rss/

notification:
  enabled: true
  discord_webhook_url: ""
  username: BybitTradBot
  timeout_sec: 5.0
  min_interval_sec: 1.0
  notify_on_startup: true
  notify_on_error: true
  notify_on_buy: true
  notify_on_sell: true
  notify_on_order_attempt: true
  notify_on_order_success: true
  notify_on_order_failure: true
  notify_on_risk_exit: true
  notify_on_news_refresh: false
